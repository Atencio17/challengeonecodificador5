<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Codificador</title>
    <link rel="stylesheet" href="estilos.css">
</head>
<body style="background-color: #92c5fc;">
    <div class="grid-container" style="font-family: Verdana, Geneva, Tahoma, sans-serif;">

        <div style="padding-top: 20px; padding-left: 50px; "><label style="font-size: 100px;">a</label></div>

        <div class="sub-grid-container">
            <div style="padding-top: 200px;">
                <textarea id="texto" cols="80" rows="10" style="resize: none; border-radius: 10%; padding: 2%;"></textarea>
            </div>
            <div style="padding-top: 50px;">
                <label style="font-size: xx-small;">Apenas letras minúsculas y sin acento.</label> <br><br>
                <button class="buttonEndcriptar" onclick="encriptar()">Encriptar</button>
                <button class="buttonDesencriptar" onclick="desencriptar()"><label style="color: black;">Desencriptar</label></button>
            </div>
        </div>

        <div class="sub-grid-container">
            <div style="padding-top: 200px;">
                <div style="background-color: white; border-radius: 10%; padding: 2%;">
                    <label id="resultado">
                        
                    </label>
                </div>
            </div>
            <div style="padding-top: 150px; text-align: center;">
                <button id="copia" class="buttonDesencriptar" onclick="copiar()"><label style="color: black;">Copiar</label></button>
            </div>
        </div>
    </div>
</body>
</html>

<script>

    function encriptar() {
        var texto = " "
        texto = document.getElementById("texto").value
        let array = texto.split('')

        for (let i = 0; i < array.length; i++) {
            if (array[i] == 'a') {
                array[i] = "ai";
            } else if(array[i] == 'e') {
                array[i] = "enter";
            }else if(array[i] == 'i') {
                array[i] = "imes";
            }else if(array[i] == 'o') {
                array[i] = "ober";
            }else if(array[i] == 'u') {
                array[i] = "ufat";
            }
        }

        texto = "";

        for (let i = 0; i < array.length; i++) {
            texto += array[i]
        }

        document.getElementById("resultado").innerHTML = texto;
    }

    function desencriptar() {
        var texto = " "
        texto = document.getElementById("texto").value

        let nuevoTexto = ""

        nuevoTexto = texto.replace(/ai/g,"a")
        nuevoTexto = nuevoTexto.replace(/enter/g,"e")
        nuevoTexto = nuevoTexto.replace(/imes/g,"i")
        nuevoTexto = nuevoTexto.replace(/ober/g,"o")
        nuevoTexto = nuevoTexto.replace(/ufat/g,"u")

        document.getElementById("resultado").innerHTML = nuevoTexto;
    }

    function copiar() {
        // Selecionar el elemento label
        let label = document.getElementById("resultado");

        // Crear un elemento temporal de input y añadirle el texto del label
        let inputTemporal = document.createElement("input");
        inputTemporal.setAttribute("value", label.textContent);

        // Añadir el elemento temporal al documento
        document.body.appendChild(inputTemporal);

        // Seleccionar el texto dentro del input temporal
        inputTemporal.select();

        // Copiar el texto al portapapeles
        document.execCommand("copy");

        // Eliminar el input temporal del documento
        document.body.removeChild(inputTemporal);

    }
</script>